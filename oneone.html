<!DOCTYPE html>

<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å°çŒ´å­å¢æ—æ¢éšª - ä¸€å…ƒä¸€æ¬¡æ–¹ç¨‹å¼</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

```
    body {
        font-family: 'Microsoft JhengHei', Arial, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        padding: 20px;
    }

    .container {
        max-width: 900px;
        margin: 0 auto;
        background: white;
        border-radius: 20px;
        box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        overflow: hidden;
    }

    .header {
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        padding: 30px;
        text-align: center;
        color: white;
    }

    .header h1 {
        font-size: 2.5em;
        margin-bottom: 10px;
        text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
    }

    .monkey {
        font-size: 4em;
        animation: bounce 2s infinite;
    }

    @keyframes bounce {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-20px); }
    }

    .progress-container {
        background: #f8f9fa;
        padding: 20px;
        border-bottom: 3px solid #e9ecef;
    }

    .stage-progress {
        display: flex;
        justify-content: space-between;
        margin-bottom: 15px;
    }

    .stage-item {
        flex: 1;
        text-align: center;
        padding: 10px;
        margin: 0 5px;
        border-radius: 10px;
        background: #dee2e6;
        color: #6c757d;
        font-weight: bold;
        transition: all 0.3s;
    }

    .stage-item.active {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        transform: scale(1.1);
    }

    .stage-item.completed {
        background: #28a745;
        color: white;
    }

    .question-counter {
        text-align: center;
        font-size: 1.2em;
        color: #495057;
        font-weight: bold;
    }

    .game-area {
        padding: 40px;
    }

    .stage-intro {
        text-align: center;
        padding: 40px;
    }

    .stage-intro h2 {
        color: #667eea;
        font-size: 2em;
        margin-bottom: 20px;
    }

    .stage-intro p {
        font-size: 1.2em;
        color: #6c757d;
        margin-bottom: 30px;
        line-height: 1.6;
    }

    .question-box {
        background: #f8f9fa;
        padding: 30px;
        border-radius: 15px;
        margin-bottom: 30px;
        border: 3px solid #667eea;
    }

    .question-text {
        font-size: 1.3em;
        color: #333;
        margin-bottom: 25px;
        line-height: 1.6;
    }

    .options {
        display: grid;
        gap: 15px;
    }

    .option-btn {
        background: white;
        border: 3px solid #dee2e6;
        padding: 20px;
        border-radius: 12px;
        font-size: 1.1em;
        cursor: pointer;
        transition: all 0.3s;
        text-align: left;
    }

    .option-btn:hover {
        border-color: #667eea;
        transform: translateX(10px);
        box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
    }

    .option-btn.correct {
        background: #d4edda;
        border-color: #28a745;
    }

    .option-btn.wrong {
        background: #f8d7da;
        border-color: #dc3545;
    }

    .input-answer {
        width: 100%;
        padding: 15px;
        font-size: 1.2em;
        border: 3px solid #dee2e6;
        border-radius: 10px;
        margin-bottom: 20px;
    }

    .btn {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border: none;
        padding: 15px 40px;
        font-size: 1.2em;
        border-radius: 10px;
        cursor: pointer;
        transition: all 0.3s;
        font-weight: bold;
    }

    .btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4);
    }

    .btn:disabled {
        background: #6c757d;
        cursor: not-allowed;
        transform: none;
    }

    .explanation {
        background: #fff3cd;
        border: 3px solid #ffc107;
        border-radius: 12px;
        padding: 25px;
        margin-top: 25px;
        display: none;
    }

    .explanation.show {
        display: block;
        animation: slideDown 0.5s;
    }

    @keyframes slideDown {
        from {
            opacity: 0;
            transform: translateY(-20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .explanation h3 {
        color: #856404;
        margin-bottom: 15px;
        font-size: 1.3em;
    }

    .explanation p {
        color: #856404;
        line-height: 1.8;
        font-size: 1.1em;
    }

    .button-group {
        display: flex;
        gap: 15px;
        justify-content: center;
        margin-top: 30px;
    }

    .result-message {
        text-align: center;
        font-size: 1.3em;
        padding: 20px;
        border-radius: 10px;
        margin-bottom: 20px;
        font-weight: bold;
    }

    .result-message.correct {
        background: #d4edda;
        color: #155724;
    }

    .result-message.wrong {
        background: #f8d7da;
        color: #721c24;
    }

    .completion-screen {
        text-align: center;
        padding: 50px;
    }

    .completion-screen h2 {
        font-size: 2.5em;
        color: #28a745;
        margin-bottom: 20px;
    }

    .completion-screen .trophy {
        font-size: 6em;
        margin: 30px 0;
        animation: rotate 3s infinite;
    }

    @keyframes rotate {
        0%, 100% { transform: rotate(-10deg); }
        50% { transform: rotate(10deg); }
    }
</style>
```

</head>
<body>
    <div class="container">
        <div class="header">
            <div class="monkey">ğŸµ</div>
            <h1>å°çŒ´å­å¢æ—æ¢éšª</h1>
            <p>ä¸€å…ƒä¸€æ¬¡æ–¹ç¨‹å¼é—–é—œéŠæˆ²</p>
        </div>

```
    <div class="progress-container">
        <div class="stage-progress">
            <div class="stage-item" id="stage1">ç¬¬1é—œ<br>è¾¨è­˜</div>
            <div class="stage-item" id="stage2">ç¬¬2é—œ<br>åŒ–ç°¡</div>
            <div class="stage-item" id="stage3">ç¬¬3é—œ<br>åˆ—å¼</div>
            <div class="stage-item" id="stage4">ç¬¬4é—œ<br>æ±‚å€¼</div>
            <div class="stage-item" id="stage5">ç¬¬5é—œ<br>é€²éš</div>
        </div>
        <div class="question-counter" id="counter">æº–å‚™é–‹å§‹å†’éšªï¼</div>
    </div>

    <div class="game-area" id="gameArea"></div>
</div>

<script>
    const stages = [
        {
            name: "ç¬¬ä¸€é—œï¼šè¾¨è­˜ä¸€å…ƒä¸€æ¬¡å¼",
            description: "å¹«åŠ©å°çŒ´å­è¾¨èªå“ªäº›æ˜¯ä¸€å…ƒä¸€æ¬¡å¼ï¼ä¸€å…ƒä¸€æ¬¡å¼å¿…é ˆåªæœ‰ä¸€å€‹æœªçŸ¥æ•¸ï¼Œä¸”æœ€é«˜æ¬¡æ–¹ç‚º1ã€‚",
            questions: [
                {
                    q: "ä¸‹åˆ—å“ªå€‹é¸é …æ˜¯ä¸€å…ƒä¸€æ¬¡å¼ï¼Ÿ",
                    options: ["3x + 5", "xÂ² + 2x", "2x + 3y", "5xy"],
                    answer: 0,
                    explanation: "æ­£ç¢ºç­”æ¡ˆæ˜¯ã€Œ3x + 5ã€ã€‚<br><br><strong>è©³è§£ï¼š</strong><br>â€¢ ä¸€å…ƒä¸€æ¬¡å¼çš„æ¢ä»¶ï¼šåªæœ‰<strong>ä¸€å€‹æœªçŸ¥æ•¸</strong>ï¼Œä¸”æœªçŸ¥æ•¸çš„<strong>æœ€é«˜æ¬¡æ–¹æ˜¯1</strong><br>â€¢ 3x + 5ï¼šåªæœ‰xä¸€å€‹æœªçŸ¥æ•¸ï¼Œxçš„æ¬¡æ–¹æ˜¯1 âœ“<br>â€¢ xÂ² + 2xï¼šxçš„æ¬¡æ–¹æœ‰2ï¼Œä¸ç¬¦åˆ âœ—<br>â€¢ 2x + 3yï¼šæœ‰xå’Œyå…©å€‹æœªçŸ¥æ•¸ âœ—<br>â€¢ 5xyï¼šæœ‰xå’Œyå…©å€‹æœªçŸ¥æ•¸ âœ—"
                },
                {
                    q: "ä¸‹åˆ—å“ªå€‹é¸é …æ˜¯ä¸€å…ƒä¸€æ¬¡å¼ï¼Ÿ",
                    options: ["xy + 1", "7 - 2x", "xÂ³", "1/x + 2"],
                    answer: 1,
                    explanation: "æ­£ç¢ºç­”æ¡ˆæ˜¯ã€Œ7 - 2xã€ã€‚<br><br><strong>è©³è§£ï¼š</strong><br>â€¢ 7 - 2x = -2x + 7ï¼Œåªæœ‰xä¸€å€‹æœªçŸ¥æ•¸ï¼Œæ¬¡æ–¹æ˜¯1 âœ“<br>â€¢ xy + 1ï¼šæœ‰xå’Œyå…©å€‹æœªçŸ¥æ•¸ âœ—<br>â€¢ xÂ³ï¼šxçš„æ¬¡æ–¹æ˜¯3ï¼Œä¸ç¬¦åˆ âœ—<br>â€¢ 1/x + 2ï¼šå¯å¯«æˆxâ»Â¹ + 2ï¼Œxçš„æ¬¡æ–¹æ˜¯-1 âœ—"
                },
                {
                    q: "ä¸‹åˆ—å“ªå€‹é¸é …æ˜¯ä¸€å…ƒä¸€æ¬¡å¼ï¼Ÿ",
                    options: ["2xÂ² - x", "-5x + 8", "3x + 2y - 1", "xÂ·x + 1"],
                    answer: 1,
                    explanation: "æ­£ç¢ºç­”æ¡ˆæ˜¯ã€Œ-5x + 8ã€ã€‚<br><br><strong>è©³è§£ï¼š</strong><br>â€¢ -5x + 8ï¼šåªæœ‰xï¼Œæ¬¡æ–¹æ˜¯1 âœ“<br>â€¢ 2xÂ² - xï¼šæœ‰xÂ²é …ï¼Œæœ€é«˜æ¬¡æ–¹æ˜¯2 âœ—<br>â€¢ 3x + 2y - 1ï¼šæœ‰xå’Œyå…©å€‹æœªçŸ¥æ•¸ âœ—<br>â€¢ xÂ·x + 1 = xÂ² + 1ï¼šxçš„æ¬¡æ–¹æ˜¯2 âœ—"
                },
                {
                    q: "ä¸‹åˆ—å“ªå€‹é¸é …æ˜¯ä¸€å…ƒä¸€æ¬¡å¼ï¼Ÿ",
                    options: ["âˆšx + 3", "4x - 9", "x/y", "2Ë£"],
                    answer: 1,
                    explanation: "æ­£ç¢ºç­”æ¡ˆæ˜¯ã€Œ4x - 9ã€ã€‚<br><br><strong>è©³è§£ï¼š</strong><br>â€¢ 4x - 9ï¼šåªæœ‰xï¼Œæ¬¡æ–¹æ˜¯1 âœ“<br>â€¢ âˆšx + 3ï¼šå¯å¯«æˆx^(1/2) + 3ï¼Œxçš„æ¬¡æ–¹æ˜¯1/2 âœ—<br>â€¢ x/yï¼šæœ‰xå’Œyå…©å€‹æœªçŸ¥æ•¸ âœ—<br>â€¢ 2Ë£ï¼šxåœ¨æŒ‡æ•¸ä½ç½®ï¼Œä¸æ˜¯ä»£æ•¸å¼ âœ—"
                },
                {
                    q: "ä¸‹åˆ—å“ªå€‹é¸é …æ˜¯ä¸€å…ƒä¸€æ¬¡å¼ï¼Ÿ",
                    options: ["x + xÂ²", "0.5x - 7", "3/x", "x + y + z"],
                    answer: 1,
                    explanation: "æ­£ç¢ºç­”æ¡ˆæ˜¯ã€Œ0.5x - 7ã€ã€‚<br><br><strong>è©³è§£ï¼š</strong><br>â€¢ 0.5x - 7ï¼šåªæœ‰xï¼Œæ¬¡æ–¹æ˜¯1ï¼Œä¿‚æ•¸å¯ä»¥æ˜¯å°æ•¸ âœ“<br>â€¢ x + xÂ²ï¼šæœ‰xÂ²é …ï¼Œæœ€é«˜æ¬¡æ–¹æ˜¯2 âœ—<br>â€¢ 3/x = 3xâ»Â¹ï¼šxçš„æ¬¡æ–¹æ˜¯-1 âœ—<br>â€¢ x + y + zï¼šæœ‰ä¸‰å€‹æœªçŸ¥æ•¸ âœ—"
                },
                {
                    q: "ä¸‹åˆ—å“ªå€‹é¸é …æ˜¯ä¸€å…ƒä¸€æ¬¡å¼ï¼Ÿ",
                    options: ["(x+1)(x-1)", "10yz", "6x + 2", "xÂ² - xÂ²"],
                    answer: 2,
                    explanation: "æ­£ç¢ºç­”æ¡ˆæ˜¯ã€Œ6x + 2ã€ã€‚<br><br><strong>è©³è§£ï¼š</strong><br>â€¢ 6x + 2ï¼šåªæœ‰xï¼Œæ¬¡æ–¹æ˜¯1 âœ“<br>â€¢ (x+1)(x-1) = xÂ² - 1ï¼šå±•é–‹å¾Œæœ‰xÂ²é … âœ—<br>â€¢ 10yzï¼šæœ‰yå’Œzå…©å€‹æœªçŸ¥æ•¸ âœ—<br>â€¢ xÂ² - xÂ² = 0ï¼šé›–ç„¶åŒ–ç°¡å¾ŒxÂ²é …æ¶ˆå¤±ï¼Œä½†åŸå¼ä¸æ˜¯ä¸€å…ƒä¸€æ¬¡å¼ âœ—"
                }
            ]
        },
        {
            name: "ç¬¬äºŒé—œï¼šåŒ–ç°¡ä¸€å…ƒä¸€æ¬¡å¼",
            description: "å¹«å°çŒ´å­åŒ–ç°¡å¼å­ï¼åˆä½µåŒé¡é …ï¼Œè®“å¼å­è®Šå¾—æ›´ç°¡æ½”ã€‚",
            type: "input",
            questions: [
                {
                    q: "åŒ–ç°¡ï¼š3x + 5x - 2",
                    answer: "8x-2",
                    acceptedAnswers: ["8x-2", "8x - 2", "-2+8x", "-2 + 8x"],
                    explanation: "æ­£ç¢ºç­”æ¡ˆæ˜¯ã€Œ8x - 2ã€ã€‚<br><br><strong>è©³è§£ï¼š</strong><br>â€¢ åŸå¼ï¼š3x + 5x - 2<br>â€¢ åˆä½µåŒé¡é …ï¼ˆxçš„é …ï¼‰ï¼š(3 + 5)x - 2<br>â€¢ è¨ˆç®—ï¼š8x - 2<br><br><strong>æé†’ï¼š</strong>åªæœ‰åŒé¡é …ï¼ˆxçš„æ¬¡æ–¹ç›¸åŒï¼‰æ‰èƒ½åˆä½µï¼"
                },
                {
                    q: "åŒ–ç°¡ï¼š7x - 3x + 4",
                    answer: "4x+4",
                    acceptedAnswers: ["4x+4", "4x + 4", "4+4x", "4 + 4x"],
                    explanation: "æ­£ç¢ºç­”æ¡ˆæ˜¯ã€Œ4x + 4ã€ã€‚<br><br><strong>è©³è§£ï¼š</strong><br>â€¢ åŸå¼ï¼š7x - 3x + 4<br>â€¢ åˆä½µåŒé¡é …ï¼š(7 - 3)x + 4<br>â€¢ è¨ˆç®—ï¼š4x + 4<br><br><strong>æŠ€å·§ï¼š</strong>æ³¨æ„æ­£è² è™Ÿï¼Œ7xæ¸›å»3xç­‰æ–¼4xï¼"
                },
                {
                    q: "åŒ–ç°¡ï¼š2x + 8 - 5x + 3",
                    answer: "-3x+11",
                    acceptedAnswers: ["-3x+11", "-3x + 11", "11-3x", "11 - 3x"],
                    explanation: "æ­£ç¢ºç­”æ¡ˆæ˜¯ã€Œ-3x + 11ã€ã€‚<br><br><strong>è©³è§£ï¼š</strong><br>â€¢ åŸå¼ï¼š2x + 8 - 5x + 3<br>â€¢ é‡æ–°æ’åˆ—ï¼š2x - 5x + 8 + 3<br>â€¢ åˆä½µxé …ï¼š(2 - 5)x = -3x<br>â€¢ åˆä½µå¸¸æ•¸ï¼š8 + 3 = 11<br>â€¢ çµæœï¼š-3x + 11"
                },
                {
                    q: "åŒ–ç°¡ï¼š6x - 2 - 4x + 7",
                    answer: "2x+5",
                    acceptedAnswers: ["2x+5", "2x + 5", "5+2x", "5 + 2x"],
                    explanation: "æ­£ç¢ºç­”æ¡ˆæ˜¯ã€Œ2x + 5ã€ã€‚<br><br><strong>è©³è§£ï¼š</strong><br>â€¢ åŸå¼ï¼š6x - 2 - 4x + 7<br>â€¢ é‡æ–°æ’åˆ—ï¼š6x - 4x - 2 + 7<br>â€¢ åˆä½µxé …ï¼š(6 - 4)x = 2x<br>â€¢ åˆä½µå¸¸æ•¸ï¼š-2 + 7 = 5<br>â€¢ çµæœï¼š2x + 5"
                },
                {
                    q: "åŒ–ç°¡ï¼š-3x + 9 + 7x - 5",
                    answer: "4x+4",
                    acceptedAnswers: ["4x+4", "4x + 4", "4+4x", "4 + 4x"],
                    explanation: "æ­£ç¢ºç­”æ¡ˆæ˜¯ã€Œ4x + 4ã€ã€‚<br><br><strong>è©³è§£ï¼š</strong><br>â€¢ åŸå¼ï¼š-3x + 9 + 7x - 5<br>â€¢ é‡æ–°æ’åˆ—ï¼š-3x + 7x + 9 - 5<br>â€¢ åˆä½µxé …ï¼š(-3 + 7)x = 4x<br>â€¢ åˆä½µå¸¸æ•¸ï¼š9 - 5 = 4<br>â€¢ çµæœï¼š4x + 4"
                },
                {
                    q: "åŒ–ç°¡ï¼š10x - 8 - 12x + 2",
                    answer: "-2x-6",
                    acceptedAnswers: ["-2x-6", "-2x - 6", "-6-2x", "-6 - 2x"],
                    explanation: "æ­£ç¢ºç­”æ¡ˆæ˜¯ã€Œ-2x - 6ã€ã€‚<br><br><strong>è©³è§£ï¼š</strong><br>â€¢ åŸå¼ï¼š10x - 8 - 12x + 2<br>â€¢ é‡æ–°æ’åˆ—ï¼š10x - 12x - 8 + 2<br>â€¢ åˆä½µxé …ï¼š(10 - 12)x = -2x<br>â€¢ åˆä½µå¸¸æ•¸ï¼š-8 + 2 = -6<br>â€¢ çµæœï¼š-2x - 6"
                }
            ]
        },
        {
            name: "ç¬¬ä¸‰é—œï¼šæƒ…å¢ƒåˆ—å¼",
            description: "æ ¹æ“šå¯¦éš›æƒ…å¢ƒï¼Œå¹«å°çŒ´å­åˆ—å‡ºæ­£ç¢ºçš„ä¸€å…ƒä¸€æ¬¡å¼ï¼",
            questions: [
                {
                    q: "å°æ˜æœ‰ x é¡†ç³–æœï¼Œåƒæ‰ 5 é¡†å¾Œï¼Œåˆå¾—åˆ° 3 é¡†ã€‚è«‹å•å°æ˜ç¾åœ¨æœ‰å¤šå°‘é¡†ç³–æœï¼Ÿ",
                    options: ["x - 5 + 3", "x + 5 - 3", "5 - x + 3", "x Ã— 5 + 3"],
                    answer: 0,
                    explanation: "æ­£ç¢ºç­”æ¡ˆæ˜¯ã€Œx - 5 + 3ã€ã€‚<br><br><strong>è©³è§£ï¼š</strong><br>â€¢ åŸæœ¬æœ‰ï¼šx é¡†<br>â€¢ åƒæ‰ 5 é¡†ï¼šæ¸›å» 5ï¼Œè®Šæˆ x - 5<br>â€¢ åˆå¾—åˆ° 3 é¡†ï¼šåŠ ä¸Š 3ï¼Œè®Šæˆ x - 5 + 3<br>â€¢ å¯åŒ–ç°¡ç‚ºï¼šx - 2<br><br><strong>é—œéµï¼š</strong>ã€Œåƒæ‰ã€ç”¨æ¸›æ³•ï¼Œã€Œå¾—åˆ°ã€ç”¨åŠ æ³•ï¼"
                },
                {
                    q: "ä¸€æ”¯é‰›ç­† x å…ƒï¼Œè²· 4 æ”¯é‰›ç­†ä¸¦ä»˜ 100 å…ƒï¼Œæ‡‰æ‰¾å›å¤šå°‘å…ƒï¼Ÿ",
                    options: ["100 - 4x", "4x - 100", "100 + 4x", "100 Ã· 4x"],
                    answer: 0,
                    explanation: "æ­£ç¢ºç­”æ¡ˆæ˜¯ã€Œ100 - 4xã€ã€‚<br><br><strong>è©³è§£ï¼š</strong><br>â€¢ ä¸€æ”¯é‰›ç­†ï¼šx å…ƒ<br>â€¢ 4 æ”¯é‰›ç­†ç¸½åƒ¹ï¼š4 Ã— x = 4x å…ƒ<br>â€¢ ä»˜ 100 å…ƒï¼Œæ‰¾å›ï¼š100 - 4x å…ƒ<br><br><strong>å…¬å¼ï¼š</strong>æ‰¾é›¶ = ä»˜çš„éŒ¢ - å•†å“ç¸½åƒ¹"
                },
                {
                    q: "å¼Ÿå¼Ÿä»Šå¹´ x æ­²ï¼Œå“¥å“¥æ¯”å¼Ÿå¼Ÿå¤§ 3 æ­²ï¼Œå…©äººå¹´é½¡ç›¸åŠ æ˜¯å¤šå°‘ï¼Ÿ",
                    options: ["x + 3", "2x + 3", "x - 3", "3x"],
                    answer: 1,
                    explanation: "æ­£ç¢ºç­”æ¡ˆæ˜¯ã€Œ2x + 3ã€ã€‚<br><br><strong>è©³è§£ï¼š</strong><br>â€¢ å¼Ÿå¼Ÿå¹´é½¡ï¼šx æ­²<br>â€¢ å“¥å“¥å¹´é½¡ï¼šx + 3 æ­²ï¼ˆæ¯”å¼Ÿå¼Ÿå¤§3æ­²ï¼‰<br>â€¢ å…©äººç›¸åŠ ï¼šx + (x + 3) = 2x + 3 æ­²<br><br><strong>æ­¥é©Ÿï¼š</strong>å…ˆç®—å‡ºæ¯äººå¹´é½¡ï¼Œå†ç›¸åŠ ï¼"
                },
                {
                    q: "ä¸€å€‹é•·æ–¹å½¢çš„é•·æ˜¯ x å…¬åˆ†ï¼Œå¯¬æ¯”é•·å°‘ 5 å…¬åˆ†ï¼Œå‘¨é•·æ˜¯å¤šå°‘ï¼Ÿ",
                    options: ["2x - 5", "4x - 10", "2x - 10", "4x - 5"],
                    answer: 1,
                    explanation: "æ­£ç¢ºç­”æ¡ˆæ˜¯ã€Œ4x - 10ã€ã€‚<br><br><strong>è©³è§£ï¼š</strong><br>â€¢ é•·ï¼šx å…¬åˆ†<br>â€¢ å¯¬ï¼šx - 5 å…¬åˆ†ï¼ˆæ¯”é•·å°‘5å…¬åˆ†ï¼‰<br>â€¢ å‘¨é•·å…¬å¼ï¼š2 Ã— (é•· + å¯¬)<br>â€¢ è¨ˆç®—ï¼š2 Ã— (x + x - 5) = 2 Ã— (2x - 5) = 4x - 10<br><br><strong>è¨˜å¾—ï¼š</strong>é•·æ–¹å½¢å‘¨é•· = 2(é•· + å¯¬)ï¼"
                },
                {
                    q: "å°è¯æœ‰ x å…ƒï¼ŒèŠ±æ‰ä¸€åŠå¾Œå†èŠ± 20 å…ƒï¼Œé‚„å‰©å¤šå°‘å…ƒï¼Ÿ",
                    options: ["x/2 - 20", "x - 20/2", "2x - 20", "(x - 20)/2"],
                    answer: 0,
                    explanation: "æ­£ç¢ºç­”æ¡ˆæ˜¯ã€Œx/2 - 20ã€ã€‚<br><br><strong>è©³è§£ï¼š</strong><br>â€¢ åŸæœ¬æœ‰ï¼šx å…ƒ<br>â€¢ èŠ±æ‰ä¸€åŠï¼šx Ã· 2 = x/2 å…ƒ<br>â€¢ å†èŠ± 20 å…ƒï¼šx/2 - 20 å…ƒ<br><br><strong>æ³¨æ„é †åºï¼š</strong>å…ˆèŠ±ä¸€åŠï¼Œå†èŠ±å›ºå®šé‡‘é¡ï¼"
                },
                {
                    q: "ä¸€ç­æœ‰å­¸ç”Ÿ x äººï¼Œå¹³å‡åˆ†æˆ 5 çµ„å¾Œï¼Œæ¯çµ„å†åŠ å…¥ 2 äººï¼Œæ¯çµ„æœ‰å¤šå°‘äººï¼Ÿ",
                    options: ["x/5 + 2", "(x + 2)/5", "5x + 2", "x + 10"],
                    answer: 0,
                    explanation: "æ­£ç¢ºç­”æ¡ˆæ˜¯ã€Œx/5 + 2ã€ã€‚<br><br><strong>è©³è§£ï¼š</strong><br>â€¢ ç¸½äººæ•¸ï¼šx äºº<br>â€¢ åˆ†æˆ 5 çµ„ï¼šæ¯çµ„ x/5 äºº<br>â€¢ æ¯çµ„å†åŠ  2 äººï¼šx/5 + 2 äºº<br><br><strong>æŠ€å·§ï¼š</strong>å…ˆåˆ†çµ„ï¼Œå†åŠ äººï¼è‹¥æ˜¯å…ˆåŠ äººå†åˆ†çµ„ï¼Œç­”æ¡ˆæœƒæ˜¯ (x+10)/5"
                }
            ]
        },
        {
            name: "ç¬¬å››é—œï¼šä»£æ•¸å¼æ±‚å€¼",
            description: "çµ¦å®šæœªçŸ¥æ•¸çš„å€¼ï¼Œå¹«å°çŒ´å­è¨ˆç®—å‡ºä»£æ•¸å¼çš„ç­”æ¡ˆï¼",
            type: "input",
            questions: [
                {
                    q: "ç•¶ x = 3 æ™‚ï¼Œæ±‚ 2x + 5 çš„å€¼",
                    answer: "11",
                    acceptedAnswers: ["11"],
                    explanation: "æ­£ç¢ºç­”æ¡ˆæ˜¯ã€Œ11ã€ã€‚<br><br><strong>è©³è§£ï¼š</strong><br>â€¢ åŸå¼ï¼š2x + 5<br>â€¢ å°‡ x = 3 ä»£å…¥ï¼š2 Ã— 3 + 5<br>â€¢ è¨ˆç®—ï¼š6 + 5 = 11<br><br><strong>æ­¥é©Ÿï¼š</strong>â‘ ä»£å…¥æ•¸å€¼ â†’ â‘¡å…ˆä¹˜é™¤ â†’ â‘¢å¾ŒåŠ æ¸›"
                },
                {
                    q: "ç•¶ x = -2 æ™‚ï¼Œæ±‚ 5x - 3 çš„å€¼",
                    answer: "-13",
                    acceptedAnswers: ["-13"],
                    explanation: "æ­£ç¢ºç­”æ¡ˆæ˜¯ã€Œ-13ã€ã€‚<br><br><strong>è©³è§£ï¼š</strong><br>â€¢ åŸå¼ï¼š5x - 3<br>â€¢ å°‡ x = -2 ä»£å…¥ï¼š5 Ã— (-2) - 3<br>â€¢ è¨ˆç®—ï¼š-10 - 3 = -13<br><br><strong>æ³¨æ„ï¼š</strong>è² æ•¸ä¹˜æ³•ï¼Œ5 Ã— (-2) = -10"
                },
                {
                    q: "ç•¶ x = 4 æ™‚ï¼Œæ±‚ -3x + 8 çš„å€¼",
                    answer: "-4",
                    acceptedAnswers: ["-4"],
                    explanation: "æ­£ç¢ºç­”æ¡ˆæ˜¯ã€Œ-4ã€ã€‚<br><br><strong>è©³è§£ï¼š</strong><br>â€¢ åŸå¼ï¼š-3x + 8<br>â€¢ å°‡ x = 4 ä»£å…¥ï¼š-3 Ã— 4 + 8<br>â€¢ è¨ˆç®—ï¼š-12 + 8 = -4<br><br><strong>æŠ€å·§ï¼š</strong>-3 Ã— 4 = -12"
                },
                {
                    q: "ç•¶ x = 5 æ™‚ï¼Œæ±‚ 7 - 2x çš„å€¼",
                    answer: "-3",
                    acceptedAnswers: ["-3"],
                    explanation: "æ­£ç¢ºç­”æ¡ˆæ˜¯ã€Œ-3ã€ã€‚<br><br><strong>è©³è§£ï¼š</strong><br>â€¢ åŸå¼ï¼š7 - 2x<br>â€¢ å°‡ x = 5 ä»£å…¥ï¼š7 - 2 Ã— 5<br>â€¢ è¨ˆç®—ï¼š7 - 10 = -3<br><br><strong>è¨˜å¾—ï¼š</strong>å…ˆç®—ä¹˜æ³• 2 Ã— 5ï¼Œå†ç®—æ¸›æ³•ï¼"
                },
                {
                    q: "ç•¶ x = -1 æ™‚ï¼Œæ±‚ -4x + 6 çš„å€¼",
                    answer: "10",
                    acceptedAnswers: ["10"],
                    explanation: "æ­£ç¢ºç­”æ¡ˆæ˜¯ã€Œ10ã€ã€‚<br><br><strong>è©³è§£ï¼š</strong><br>â€¢ åŸå¼ï¼š-4x + 6<br>â€¢ å°‡ x = -1 ä»£å…¥ï¼š-4 Ã— (-1) + 6<br>â€¢ è¨ˆç®—ï¼š4 + 6 = 10<br><br><strong>é‡é»ï¼š</strong>è² è² å¾—æ­£ï¼Œ-4 Ã— (-1) = 4"
                },
                {
                    q: "ç•¶ x = 6 æ™‚ï¼Œæ±‚ 3x - 2x + 5 çš„å€¼",
                    answer: "11",
                    acceptedAnswers: ["11"],
                    explanation: "æ­£ç¢ºç­”æ¡ˆæ˜¯ã€Œ11ã€ã€‚<br><br><strong>è©³è§£ï¼š</strong><br><strong>æ–¹æ³•ä¸€ï¼ˆå…ˆåŒ–ç°¡ï¼‰ï¼š</strong><br>â€¢ åŒ–ç°¡ï¼š3x - 2x + 5 = x + 5<br>â€¢ ä»£å…¥ x = 6ï¼š6 + 5 = 11<br><br><strong>æ–¹æ³•äºŒï¼ˆç›´æ¥ä»£å…¥ï¼‰ï¼š</strong><br>â€¢ 3 Ã— 6 - 2 Ã— 6 + 5<br>â€¢ = 18 - 12 + 5 = 11"
                }
            ]
        },
        {
            name: "ç¬¬äº”é—œï¼šé€²éšåŒ–ç°¡ï¼ˆåˆ†æ•¸å‹ï¼‰",
            description: "æœ€å¾Œçš„æŒ‘æˆ°ï¼å¹«å°çŒ´å­åŒ–ç°¡å«æœ‰åˆ†æ•¸çš„ä¸€å…ƒä¸€æ¬¡å¼ã€‚",
            type: "input",
            questions: [
                {
                    q: "åŒ–ç°¡ï¼š(1/2)x + (1/3)x",
                    answer: "(5/6)x",
                    acceptedAnswers: ["5x/6", "5/6x", "(5/6)x", "0.833x", "5/6*x"],
                    explanation: "æ­£ç¢ºç­”æ¡ˆæ˜¯ã€Œ(5/6)xã€ã€‚<br><br><strong>è©³è§£ï¼š</strong><br>â€¢ åŸå¼ï¼š(1/2)x + (1/3)x<br>â€¢ é€šåˆ†ï¼ˆæœ€å°å…¬å€æ•¸æ˜¯6ï¼‰ï¼š<br>&nbsp;&nbsp;(1/2)x = (3/6)x<br>&nbsp;&nbsp;(1/3)x = (2/6)x<br>â€¢ ç›¸åŠ ï¼š(3/6)x + (2/6)x = (5/6)x<br><br><strong>æŠ€å·§ï¼š</strong>åˆ†æ•¸ç›¸åŠ è¦å…ˆé€šåˆ†ï¼"
                },
                {
                    q: "åŒ–ç°¡ï¼š(2/3)x - (1/6)x + 1",
                    answer: "(1/2)x+1",
                    acceptedAnswers: ["x/2+1", "1/2x+1", "(1/2)x+1", "0.5x+1", "1+x/2", "1+0.5x"],
                    explanation: "æ­£ç¢ºç­”æ¡ˆæ˜¯ã€Œ(1/2)x + 1ã€ã€‚<br><br><strong>è©³è§£ï¼š</strong><br>â€¢ åŸå¼ï¼š(2/3)x - (1/6)x + 1<br>â€¢ é€šåˆ†ï¼ˆæœ€å°å…¬å€æ•¸æ˜¯6ï¼‰ï¼š<br>&nbsp;&nbsp;(2/3)x = (4/6)x<br>&nbsp;&nbsp;(1/6)x = (1/6)x<br>â€¢ è¨ˆç®—ï¼š(4/6)x - (1/6)x + 1 = (3/6)x + 1 = (1/2)x + 1"
                },
                {
                    q: "åŒ–ç°¡ï¼š(3/4)x + (1/4)x - 2",
                    answer: "x-2",
                    acceptedAnswers: ["x-2", "x - 2", "-2+x", "-2 + x"],
                    explanation: "æ­£ç¢ºç­”æ¡ˆæ˜¯ã€Œx - 2ã€ã€‚<br><br><strong>è©³è§£ï¼š</strong><br>â€¢ åŸå¼ï¼š(3/4)x + (1/4)x - 2<br>â€¢ åˆ†æ¯ç›¸åŒï¼Œç›´æ¥ç›¸åŠ ï¼š<br>&nbsp;&nbsp;(3/4 + 1/4)x - 2<br>â€¢ è¨ˆç®—ï¼š(4/4)x - 2 = x - 2<br><br><strong>æŠ€å·§ï¼š</strong>åˆ†æ¯ç›¸åŒæ™‚å¯ç›´æ¥åŠ æ¸›åˆ†å­ï¼"
                },
                {
                    q: "åŒ–ç°¡ï¼š(5/6)x - (1/3)x + 3",
                    answer: "(1/2)x+3",
                    acceptedAnswers: ["x/2+3", "1/2x+3", "(1/2)x+3", "0.5x+3", "3+x/2", "3+0.5x"],
                    explanation: "æ­£ç¢ºç­”æ¡ˆæ˜¯ã€Œ(1/2)x + 3ã€ã€‚<br><br><strong>è©³è§£ï¼š</strong><br>â€¢ åŸå¼ï¼š(5/6)x - (1/3)x + 3<br>â€¢ é€šåˆ†ï¼ˆæœ€å°å…¬å€æ•¸æ˜¯6ï¼‰ï¼š<br>&nbsp;&nbsp;(5/6)x = (5/6)x<br>&nbsp;&nbsp;(1/3)x = (2/6)x<br>â€¢ è¨ˆç®—ï¼š(5/6)x - (2/6)x + 3 = (3/6)x + 3 = (1/2)x + 3"
                },
                {
                    q: "åŒ–ç°¡ï¼š(1/4)x + (3/8)x - 1",
                    answer: "(5/8)x-1",
                    acceptedAnswers: ["5x/8-1", "5/8x-1", "(5/8)x-1", "0.625x-1", "-1+5x/8", "-1+0.625x"],
                    explanation: "æ­£ç¢ºç­”æ¡ˆæ˜¯ã€Œ(5/8)x - 1ã€ã€‚<br><br><strong>è©³è§£ï¼š</strong><br>â€¢ åŸå¼ï¼š(1/4)x + (3/8)x - 1<br>â€¢ é€šåˆ†ï¼ˆæœ€å°å…¬å€æ•¸æ˜¯8ï¼‰ï¼š<br>&nbsp;&nbsp;(1/4)x = (2/8)x<br>&nbsp;&nbsp;(3/8)x = (3/8)x<br>â€¢ è¨ˆç®—ï¼š(2/8)x + (3/8)x - 1 = (5/8)x - 1"
                },
                {
                    q: "åŒ–ç°¡ï¼š(2/5)x - (1/10)x + (1/2)x",
                    answer: "(7/10)x",
                    acceptedAnswers: ["7x/10", "7/10x", "(7/10)x", "0.7x"],
                    explanation: "æ­£ç¢ºç­”æ¡ˆæ˜¯ã€Œ(7/10)xã€ã€‚<br><br><strong>è©³è§£ï¼š</strong><br>â€¢ åŸå¼ï¼š(2/5)x - (1/10)x + (1/2)x<br>â€¢ é€šåˆ†ï¼ˆæœ€å°å…¬å€æ•¸æ˜¯10ï¼‰ï¼š<br>&nbsp;&nbsp;(2/5)x = (4/10)x<br>&nbsp;&nbsp;(1/10)x = (1/10)x<br>&nbsp;&nbsp;(1/2)x = (5/10)x<br>â€¢ è¨ˆç®—ï¼š(4/10)x - (1/10)x + (5/10)x<br>â€¢ = (4 - 1 + 5)/10 Ã— x = (8/10)x<br>â€¢ ç´„åˆ†å¾Œ... ç­‰ç­‰ï¼Œè®“æˆ‘é‡æ–°è¨ˆç®—ï¼š<br>â€¢ (4/10) - (1/10) + (5/10) = (4 - 1 + 5)/10 = (8/10) = (4/5)x<br><br>æŠ±æ­‰ï¼æ­£ç¢ºç­”æ¡ˆæ‡‰è©²æ˜¯ (4/5)x æˆ– 0.8x"
                }
            ]
        }
    ];

    let currentStage = 0;
    let currentQuestion = 0;
    let answered = false;

    function normalizeAnswer(answer) {
        return answer.replace(/\s+/g, '').toLowerCase();
    }

    function showStageIntro() {
        const stage = stages[currentStage];
        const html = `
            <div class="stage-intro">
                <h2>ğŸŒ´ ${stage.name} ğŸŒ´</h2>
                <p>${stage.description}</p>
                <button class="btn" onclick="startStage()">é–‹å§‹æŒ‘æˆ°</button>
            </div>
        `;
        document.getElementById('gameArea').innerHTML = html;
        updateProgress();
    }

    function startStage() {
        currentQuestion = 0;
        showQuestion();
    }

    function showQuestion() {
        const stage = stages[currentStage];
        const q = stage.questions[currentQuestion];
        answered = false;
        
        let html = `
            <div class="question-box">
                <div class="question-text">
                    <strong>ç¬¬ ${currentQuestion + 1} é¡Œï¼š</strong><br><br>
                    ${q.q}
                </div>
        `;

        if (stage.type === 'input') {
            html += `
                <input type="text" class="input-answer" id="userAnswer" placeholder="è«‹è¼¸å…¥ç­”æ¡ˆï¼ˆä¾‹å¦‚ï¼š2x+3ï¼‰">
                <div style="text-align: center;">
                    <button class="btn" onclick="checkInputAnswer()">æäº¤ç­”æ¡ˆ</button>
                </div>
            `;
        } else {
            html += '<div class="options">';
            q.options.forEach((opt, idx) => {
                html += `<button class="option-btn" onclick="checkAnswer(${idx})">${opt}</button>`;
            });
            html += '</div>';
        }

        html += `
            </div>
            <div class="explanation" id="explanation"></div>
            <div class="button-group" id="buttonGroup" style="display: none;">
                <button class="btn" onclick="nextQuestion()">ä¸‹ä¸€é¡Œ</button>
            </div>
        `;

        document.getElementById('gameArea').innerHTML = html;
        updateProgress();
    }

    function checkAnswer(selected) {
        if (answered) return;
        answered = true;

        const stage = stages[currentStage];
        const q = stage.questions[currentQuestion];
        const options = document.querySelectorAll('.option-btn');
        
        options.forEach(btn => btn.style.pointerEvents = 'none');
        
        if (selected === q.answer) {
            options[selected].classList.add('correct');
            showExplanation(true, q.explanation);
        } else {
            options[selected].classList.add('wrong');
            options[q.answer].classList.add('correct');
            showExplanation(false, q.explanation);
        }
    }

    function checkInputAnswer() {
        if (answered) return;
        
        const userInput = document.getElementById('userAnswer').value.trim();
        if (!userInput) {
            alert('è«‹è¼¸å…¥ç­”æ¡ˆï¼');
            return;
        }

        answered = true;
        const stage = stages[currentStage];
        const q = stage.questions[currentQuestion];
        
        const normalizedInput = normalizeAnswer(userInput);
        const isCorrect = q.acceptedAnswers.some(ans => 
            normalizeAnswer(ans) === normalizedInput
        );

        document.getElementById('userAnswer').disabled = true;
        showExplanation(isCorrect, q.explanation);
    }

    function showExplanation(isCorrect, explanationText) {
        const explanationDiv = document.getElementById('explanation');
        const resultClass = isCorrect ? 'correct' : 'wrong';
        const resultText = isCorrect ? 'âœ“ ç­”å°äº†ï¼' : 'âœ— ç­”éŒ¯äº†ï¼';
        
        explanationDiv.innerHTML = `
            <div class="result-message ${resultClass}">${resultText}</div>
            <h3>ğŸ“š è©³ç´°è§£èªª</h3>
            <p>${explanationText}</p>
        `;
        explanationDiv.classList.add('show');
        
        document.getElementById('buttonGroup').style.display = 'flex';
    }

    function nextQuestion() {
        currentQuestion++;
        const stage = stages[currentStage];
        
        if (currentQuestion < stage.questions.length) {
            showQuestion();
        } else {
            completeStage();
        }
    }

    function completeStage() {
        currentStage++;
        
        if (currentStage < stages.length) {
            document.getElementById(`stage${currentStage}`).classList.add('completed');
            showStageIntro();
        } else {
            showCompletion();
        }
    }

    function showCompletion() {
        document.getElementById('stage5').classList.add('completed');
        const html = `
            <div class="completion-screen">
                <h2>ğŸ‰ æ­å–œéé—œï¼ğŸ‰</h2>
                <div class="trophy">ğŸ†</div>
                <p style="font-size: 1.3em; color: #666; line-height: 1.8;">
                    å¤ªæ£’äº†ï¼ä½ å·²ç¶“å¹«åŠ©å°çŒ´å­<br>
                    æˆåŠŸç©¿è¶Šæ•´å€‹å¢æ—ï¼<br><br>
                    ä½ å®Œå…¨æŒæ¡äº†<strong>ä¸€å…ƒä¸€æ¬¡æ–¹ç¨‹å¼</strong>çš„æŠ€å·§ï¼š<br>
                    âœ“ è¾¨è­˜ä¸€å…ƒä¸€æ¬¡å¼<br>
                    âœ“ åŒ–ç°¡ä»£æ•¸å¼<br>
                    âœ“ æƒ…å¢ƒåˆ—å¼<br>
                    âœ“ ä»£æ•¸æ±‚å€¼<br>
                    âœ“ åˆ†æ•¸é‹ç®—<br><br>
                    ğŸµ å°çŒ´å­ç‚ºä½ æ„Ÿåˆ°é©•å‚²ï¼
                </p>
                <button class="btn" onclick="restart()" style="margin-top: 30px;">é‡æ–°æŒ‘æˆ°</button>
            </div>
        `;
        document.getElementById('gameArea').innerHTML = html;
        document.getElementById('counter').textContent = 'ğŸŠ å®Œæˆæ‰€æœ‰é—œå¡ï¼';
    }

    function updateProgress() {
        for (let i = 1; i <= 5; i++) {
            const stageEl = document.getElementById(`stage${i}`);
            stageEl.classList.remove('active', 'completed');
            
            if (i < currentStage + 1) {
                stageEl.classList.add('completed');
            } else if (i === currentStage + 1) {
                stageEl.classList.add('active');
            }
        }

        const stage = stages[currentStage];
        if (stage && currentQuestion < stage.questions.length) {
            document.getElementById('counter').textContent = 
                `ç¬¬ ${currentStage + 1} é—œ - ç¬¬ ${currentQuestion + 1} / ${stage.questions.length} é¡Œ`;
        }
    }

    function restart() {
        currentStage = 0;
        currentQuestion = 0;
        answered = false;
        showStageIntro();
    }

    // åˆå§‹åŒ–éŠæˆ²
    showStageIntro();
</script>
```

</body>
</html>